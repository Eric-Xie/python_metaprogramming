# python中的元编程

## Rule

软件开发中很重要的一条原则:

> 不要重复自己的工作（Don’t repeat youself）

即当我们需要复制粘贴代码时候，通常都需要寻找一个更加优雅的解决方案，在python中，
这类问题常常会归类为**元编程**。

## Aim

_主要目的_：是创建函数和类，并用他们操作代码（例如修改，生成，或者包装自己已有的代码）。

## Feather

python中基于这个目的的主要特性包括：

*   装饰器
*   类装饰器
*   元类

## metaclass

type能动态创建类，type可以接受一个类的描述作为参数，然后返回一个类。type就是Python在背后用来创建所有类的元类。

type可以像这样工作：

type(类名, 父类的元组（针对继承的情况，可以为空），包含属性的字典（名称和值）)

**元类就是用来创建类的“东西”**

## 内置函数的说明

*   **new**(cls, args, *kwargs) 创建对象时调用，返回当前对象的一个实例;注意：这里的第一个参数是cls即class本身
*   **init**(self, args, *kwargs) 创建完对象后调用，对当前对象的实例的一些初始化，无返回值,即在调用new之后，根据返回的实例初始化；注意，这里的第一个参数是self即对象本身【注意和new的区别】
*   **call**(self, args, *kwargs) 如果类实现了这个方法，相当于把这个类型的对象当作函数来使用，相当于 重载了括号运算符